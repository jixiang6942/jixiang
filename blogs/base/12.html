<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>12-vue3项目(弘源旅途) | vuepress-theme-reco</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/jixiang/assets/app-382cdfb3.js"><link rel="modulepreload" href="/jixiang/assets/12.html-0b4b21a3.js"><link rel="modulepreload" href="/jixiang/assets/12.html-376ad60b.js"><link rel="prefetch" href="/jixiang/assets/index.html-0a05feab.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-8c2edf06.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-4b3ba946.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c4d32c30.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-2a47700b.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-e1595639.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-26cf1f25.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-0bb65ab7.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-265aa382.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-5226783c.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-4edaf7e4.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-5ec87da3.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-405834c3.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-339fbecc.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-fe3e5f0a.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-467cd318.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-b7da9b02.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-97546b91.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-28bf635e.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-cd8c9a64.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-e901a9ed.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-e5e90244.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-69254cc3.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-fa92c14f.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-803ec479.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-ce0d065c.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-d4810458.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-9f4c7efb.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-95606f7d.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c069f172.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-8e2f5ded.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-05cec449.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-9981f4f3.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-b5b12757.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-77554e9f.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-55e40409.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-560c14b4.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-35b38f45.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-06cde299.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-adbe0805.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-dd57d590.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-046de93b.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-1a88d37b.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c8e98ed0.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-800887e5.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-3d7270bf.js" as="script"><link rel="prefetch" href="/jixiang/assets/01.html-19700267.js" as="script"><link rel="prefetch" href="/jixiang/assets/02.html-1621edca.js" as="script"><link rel="prefetch" href="/jixiang/assets/03.html-42fe6077.js" as="script"><link rel="prefetch" href="/jixiang/assets/04.html-866c8fcf.js" as="script"><link rel="prefetch" href="/jixiang/assets/05.html-2e2808ff.js" as="script"><link rel="prefetch" href="/jixiang/assets/06.html-347ba841.js" as="script"><link rel="prefetch" href="/jixiang/assets/07.html-aeabfbf3.js" as="script"><link rel="prefetch" href="/jixiang/assets/08.html-b8e4f364.js" as="script"><link rel="prefetch" href="/jixiang/assets/09.html-d1aaf8b9.js" as="script"><link rel="prefetch" href="/jixiang/assets/10.html-480ed050.js" as="script"><link rel="prefetch" href="/jixiang/assets/11.html-6b21b4ad.js" as="script"><link rel="prefetch" href="/jixiang/assets/13.html-534461df.js" as="script"><link rel="prefetch" href="/jixiang/assets/14.html-dae71d03.js" as="script"><link rel="prefetch" href="/jixiang/assets/15.html-c93d744b.js" as="script"><link rel="prefetch" href="/jixiang/assets/16.html-7c56306a.js" as="script"><link rel="prefetch" href="/jixiang/assets/17.html-47c12cb7.js" as="script"><link rel="prefetch" href="/jixiang/assets/18.html-80d9fb80.js" as="script"><link rel="prefetch" href="/jixiang/assets/20.html-378fd069.js" as="script"><link rel="prefetch" href="/jixiang/assets/21.html-c8cc9e05.js" as="script"><link rel="prefetch" href="/jixiang/assets/22.html-0e54ca83.js" as="script"><link rel="prefetch" href="/jixiang/assets/25.html-91ae095c.js" as="script"><link rel="prefetch" href="/jixiang/assets/26.html-dad5e7e7.js" as="script"><link rel="prefetch" href="/jixiang/assets/27.html-8a4eb15b.js" as="script"><link rel="prefetch" href="/jixiang/assets/28.html-2da42e4f.js" as="script"><link rel="prefetch" href="/jixiang/assets/29.html-6bf1e32b.js" as="script"><link rel="prefetch" href="/jixiang/assets/49.html-e6381835.js" as="script"><link rel="prefetch" href="/jixiang/assets/50.html-8588c312.js" as="script"><link rel="prefetch" href="/jixiang/assets/guide.html-e3695bbf.js" as="script"><link rel="prefetch" href="/jixiang/assets/api.html-abf9ecbe.js" as="script"><link rel="prefetch" href="/jixiang/assets/home.html-e8c20f42.js" as="script"><link rel="prefetch" href="/jixiang/assets/plugin.html-a6786cc3.js" as="script"><link rel="prefetch" href="/jixiang/assets/theme.html-d99ac584.js" as="script"><link rel="prefetch" href="/jixiang/assets/121501.html-fccbc335.js" as="script"><link rel="prefetch" href="/jixiang/assets/092101.html-fc63b2a6.js" as="script"><link rel="prefetch" href="/jixiang/assets/121501.html-e7edf63c.js" as="script"><link rel="prefetch" href="/jixiang/assets/092101.html-34eff30b.js" as="script"><link rel="prefetch" href="/jixiang/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-29f5340f.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-bc24f7bf.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-72ad8ef9.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-a2603bcc.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-f8b26952.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-e35fdb84.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-f0dd9224.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-feba14f9.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-cf397466.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-ab47c28b.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-4f42a42d.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-19308d8b.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-72af91ab.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-030bcab1.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-176d3f21.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-fdf8364e.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-bf61bb87.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-2c77e49a.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-29275528.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c475f3f1.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-481a7487.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c9b1dada.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-a7fcf78a.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-08428b8d.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-12563f2d.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-4eaceaee.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-a14e79a5.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-5673910c.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-416e36a3.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-f09b4c5b.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c654f863.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-183e34d3.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-5de4f5f5.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-822e2af8.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-e5d475b1.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-8a09e282.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c7acb734.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-6d9db7e8.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-906131f7.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-5faa2d33.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-a99109b5.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-c2191fde.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-95773892.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-1e45b00a.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-88284129.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-b4177d1a.js" as="script"><link rel="prefetch" href="/jixiang/assets/index.html-76a485e3.js" as="script"><link rel="prefetch" href="/jixiang/assets/01.html-237ff465.js" as="script"><link rel="prefetch" href="/jixiang/assets/02.html-c61b51fa.js" as="script"><link rel="prefetch" href="/jixiang/assets/03.html-bff39e56.js" as="script"><link rel="prefetch" href="/jixiang/assets/04.html-97a91ca4.js" as="script"><link rel="prefetch" href="/jixiang/assets/05.html-e5df046a.js" as="script"><link rel="prefetch" href="/jixiang/assets/06.html-050c77fb.js" as="script"><link rel="prefetch" href="/jixiang/assets/07.html-6ed43139.js" as="script"><link rel="prefetch" href="/jixiang/assets/08.html-e7627e7f.js" as="script"><link rel="prefetch" href="/jixiang/assets/09.html-d2e00d68.js" as="script"><link rel="prefetch" href="/jixiang/assets/10.html-4de71568.js" as="script"><link rel="prefetch" href="/jixiang/assets/11.html-0a65f6c1.js" as="script"><link rel="prefetch" href="/jixiang/assets/13.html-b4d95b01.js" as="script"><link rel="prefetch" href="/jixiang/assets/14.html-d1b29c28.js" as="script"><link rel="prefetch" href="/jixiang/assets/15.html-1d10ca94.js" as="script"><link rel="prefetch" href="/jixiang/assets/16.html-78885783.js" as="script"><link rel="prefetch" href="/jixiang/assets/17.html-529200aa.js" as="script"><link rel="prefetch" href="/jixiang/assets/18.html-be0f70f5.js" as="script"><link rel="prefetch" href="/jixiang/assets/20.html-3dda3e80.js" as="script"><link rel="prefetch" href="/jixiang/assets/21.html-4a3fb827.js" as="script"><link rel="prefetch" href="/jixiang/assets/22.html-39484985.js" as="script"><link rel="prefetch" href="/jixiang/assets/25.html-9ab11fb3.js" as="script"><link rel="prefetch" href="/jixiang/assets/26.html-302e8c3e.js" as="script"><link rel="prefetch" href="/jixiang/assets/27.html-e7640cfe.js" as="script"><link rel="prefetch" href="/jixiang/assets/28.html-909c4652.js" as="script"><link rel="prefetch" href="/jixiang/assets/29.html-00522a29.js" as="script"><link rel="prefetch" href="/jixiang/assets/49.html-a5b1c3f0.js" as="script"><link rel="prefetch" href="/jixiang/assets/50.html-14cfd8ec.js" as="script"><link rel="prefetch" href="/jixiang/assets/guide.html-22eb7ca2.js" as="script"><link rel="prefetch" href="/jixiang/assets/api.html-30669716.js" as="script"><link rel="prefetch" href="/jixiang/assets/home.html-b9a91199.js" as="script"><link rel="prefetch" href="/jixiang/assets/plugin.html-8269d29e.js" as="script"><link rel="prefetch" href="/jixiang/assets/theme.html-36fec2c0.js" as="script"><link rel="prefetch" href="/jixiang/assets/121501.html-b27ea9c5.js" as="script"><link rel="prefetch" href="/jixiang/assets/092101.html-c3bd3ac9.js" as="script"><link rel="prefetch" href="/jixiang/assets/121501.html-44e8aee3.js" as="script"><link rel="prefetch" href="/jixiang/assets/092101.html-7076aeee.js" as="script"><link rel="prefetch" href="/jixiang/assets/404.html-925c4d0f.js" as="script"><link rel="prefetch" href="/jixiang/assets/reco-valine-a195b6e9.js" as="script"><link rel="prefetch" href="/jixiang/assets/giscus-2a044aea-497f0bd4.js" as="script">
    <link rel="preload" href="/jixiang/assets/style-bd934052.css" as="style"><link rel="stylesheet" href="/jixiang/assets/style-bd934052.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/jixiang/logo.png" alt="vuepress-theme-reco"><a href="/jixiang/" class="site-name can-hide">vuepress-theme-reco</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/jixiang/" class="link router-link-active" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/jixiang/categories/reco/1/" class="link" aria-label="Categories"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Categories<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/jixiang/tags/tag1/1/" class="link" aria-label="Tags"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Tags<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Docs"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Docs<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Docs"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Docs<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/jixiang/docs/theme-reco/theme" class="link" aria-label="vuepress-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vuepress-reco<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jixiang/blogs/other/guide" class="link" aria-label="vuepress-theme-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vuepress-theme-reco<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/jixiang/" class="link router-link-active" aria-label="Home"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Home<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/jixiang/categories/reco/1/" class="link" aria-label="Categories"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Categories<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/jixiang/tags/tag1/1/" class="link" aria-label="Tags"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Tags<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Docs"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Docs<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Docs"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Docs<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/jixiang/docs/theme-reco/theme" class="link" aria-label="vuepress-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vuepress-reco<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/jixiang/blogs/other/guide" class="link" aria-label="vuepress-theme-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vuepress-theme-reco<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/jixiang/logo.png" alt="vuepress-theme-reco"><a href="/jixiang/" class="site-name can-hide">vuepress-theme-reco</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">12-vue3项目(弘源旅途)</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->reco_luan<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2024/02/02<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue3<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue3<!--]--></span></span><!----></div><div class="theme-reco-default-content"><div><h2 id="一-项目基本配置" tabindex="-1"><a class="header-anchor" href="#一-项目基本配置" aria-hidden="true">#</a> 一，项目基本配置</h2><h3 id="_1-修改项目图标" tabindex="-1"><a class="header-anchor" href="#_1-修改项目图标" aria-hidden="true">#</a> 1. 修改项目图标</h3><p>我们需要使用自己的图标，因此将我们准备好的图标放入public文件夹下，如下：</p><p><img src="/jixiang/assets/image-20240202090555865-db5a7edc.png" alt="image-20240202090555865"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202090655504-967f783e.png" alt="image-20240202090655504"></p><h3 id="_2-修改项目标题" tabindex="-1"><a class="header-anchor" href="#_2-修改项目标题" aria-hidden="true">#</a> 2. 修改项目标题</h3><p>修改项目的title，如下：</p><p><img src="/jixiang/assets/image-20240202091051892-f6290a5e.png" alt="image-20240202091051892"></p><p>浏览器效果，如下：</p><p><img src="/jixiang/assets/image-20240202091120985-3d1cc19c.png" alt="image-20240202091120985"></p><p>为了让vscode对代码编写有更加友好的提示，需要配置jsconfig.json文件，如下：</p><p><img src="/jixiang/assets/image-20240202091357914-7dbb49f3.png" alt="image-20240202091357914"></p><h3 id="_2-项目目录结构划分" tabindex="-1"><a class="header-anchor" href="#_2-项目目录结构划分" aria-hidden="true">#</a> 2. 项目目录结构划分</h3><p><img src="/jixiang/assets/image-20240202091640253-0fe44422.png" alt="image-20240202091640253"></p><p>创建目录结构，如下：</p><p><img src="/jixiang/assets/image-20240202092321764-4bfb9deb.png" alt="image-20240202092321764"></p><h3 id="_3-重置样式和初始化" tabindex="-1"><a class="header-anchor" href="#_3-重置样式和初始化" aria-hidden="true">#</a> 3. 重置样式和初始化</h3><p>接下来需要对样式进行重置，先安装normalize.css</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i normalize.css
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/jixiang/assets/image-20240202093117046-6afb40e8.png" alt="image-20240202093117046"></p><p>在main.js中引入，让其生效，如下：</p><p><img src="/jixiang/assets/image-20240202093137049-9cdbde79.png" alt="image-20240202093137049"></p><p>我们还需要自己对样式做一些重置，创建reset.css文件，如下：</p><p><img src="/jixiang/assets/image-20240202093455441-2079b89f.png" alt="image-20240202093455441"></p><p>还需要创建一个common.css文件，用来存放项目的公共样式，如下：</p><p><img src="/jixiang/assets/image-20240202094223457-8658c3ae.png" alt="image-20240202094223457"></p><p>项目中可能有很多css文件，我们如果都在main.js中引入，会造成代码臃肿，因此我们在css文件夹下创建一个index.css进行统一引入，并在main.js中引入，如下：</p><p><img src="/jixiang/assets/image-20240202094037248-27d38e36.png" alt="image-20240202094037248"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202094244365-bee605ab.png" alt="image-20240202094244365"></p><h3 id="_4-路由位置" tabindex="-1"><a class="header-anchor" href="#_4-路由位置" aria-hidden="true">#</a> 4. 路由位置</h3><p>先安装路由</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i vue-router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>操作：</p><p><img src="/jixiang/assets/image-20240202095812020-962c5bb1.png" alt="image-20240202095812020"></p><p>在router文件夹下，创建index.js并配置路由基本结构，代码如下：</p><p><img src="/jixiang/assets/image-20240202100221920-258b7fd6.png" alt="image-20240202100221920"></p><p>在main.js中引入，并挂载到应用上，代码如下：</p><p><img src="/jixiang/assets/image-20240202100529171-06290dbc.png" alt="image-20240202100529171"></p><p>在views文件夹下路由组件，如下：</p><p><img src="/jixiang/assets/image-20240202104032638-249adb21.png" alt="image-20240202104032638"></p><p>为vue3生成代码片段</p><p><img src="/jixiang/assets/image-20240202103537617-5a059977.png" alt="image-20240202103537617"></p><p>在vscode中配置代码片段，如下：</p><p><img src="/jixiang/assets/image-20240202103613164-4ee0ea5f.png" alt="image-20240202103613164"></p><p><img src="/jixiang/assets/image-20240202103719515-6b9873a3.png" alt="image-20240202103719515"></p><p><img src="/jixiang/assets/image-20240202103759550-4140a07b.png" alt="image-20240202103759550"></p><p>使用之，如下：</p><p><img src="/jixiang/assets/image-20240202103823337-cd382184.png" alt="image-20240202103823337"></p><p>配置路由规则，代码如下：</p><p><img src="/jixiang/assets/image-20240202104442900-ebfa720a.png" alt="image-20240202104442900"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202104858013-368d2004.png" alt="image-20240202104858013"></p><h3 id="_3-配置状态管理" tabindex="-1"><a class="header-anchor" href="#_3-配置状态管理" aria-hidden="true">#</a> 3. 配置状态管理</h3><p>安装pinia</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i pinia
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>操作：</p><p><img src="/jixiang/assets/image-20240202105305355-9e631028.png" alt="image-20240202105305355"></p><p>创建pinia实例并导出，代码如下：</p><p><img src="/jixiang/assets/image-20240202105932536-4af898ac.png" alt="image-20240202105932536"></p><p>在mian.js中引入pinia实例，并挂载到app上，代码如下：</p><p><img src="/jixiang/assets/image-20240202110121261-e7046b57.png" alt="image-20240202110121261"></p><p>开发中我们会在stores文件夹下创建modules文件夹，用来存放不同模块的数据，如下：</p><p><img src="/jixiang/assets/image-20240202115608948-d6bcfa43.png" alt="image-20240202115608948"></p><h2 id="二-首页面开发" tabindex="-1"><a class="header-anchor" href="#二-首页面开发" aria-hidden="true">#</a> 二，首页面开发</h2><h3 id="_1-tabbar" tabindex="-1"><a class="header-anchor" href="#_1-tabbar" aria-hidden="true">#</a> 1. tabbar</h3><p>在components文件夹下创建tab-bar组件，如下：</p><p><img src="/jixiang/assets/image-20240202155130161-99f07497.png" alt="image-20240202155130161"></p><p>在tab-bar组件中书写结构和样式，如下：</p><p><img src="/jixiang/assets/image-20240202155412751-6b2cb7c0.png" alt="image-20240202155412751"></p><p>此时会发现代码报错，如下：</p><p><img src="/jixiang/assets/image-20240202155447258-a801b652.png" alt="image-20240202155447258"></p><p>需要安装less</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token function">less</span> <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>操作：</p><p><img src="/jixiang/assets/image-20240202155601101-ddea99e4.png" alt="image-20240202155601101"></p><p>注意：jsconfig.json文件中可以书写注释，因为这个文件是针对vscode的。vscode对此文件做过特殊处理。</p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202160510318-2470f1dc.png" alt="image-20240202160510318"></p><p>tab-bar还需要小图标，对结构进一步处理，如下：</p><p><img src="/jixiang/assets/image-20240202161235400-3ffc5716.png" alt="image-20240202161235400"></p><p>进一步调整样式，让图标和文字上下排列，代码如下：</p><p><img src="/jixiang/assets/image-20240202162017586-ccb96852.png" alt="image-20240202162017586"></p><p>在assets文件夹下创建data/tabbar.js，将tabbar数据存储，以实现tabbar的动态渲染，代码如下：</p><p><img src="/jixiang/assets/image-20240202163533551-8338c00a.png" alt="image-20240202163533551"></p><p>注意图片路径如果是动态的，不能正常解析。代码如下：</p><p><img src="/jixiang/assets/image-20240202164328035-c896070a.png" alt="image-20240202164328035"></p><p>在webpack环境中我们可以使用require函数包裹，但是在vite中我们需要自己手动封装工具函数来处理，如下：</p><p><img src="/jixiang/assets/image-20240202165951813-64ac3c9c.png" alt="image-20240202165951813"></p><p>将该函数抽取到utils文件夹下，并修改相对路径。如下：</p><p><img src="/jixiang/assets/image-20240202170507074-132c5812.png" alt="image-20240202170507074"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202170624361-887f7fc4.png" alt="image-20240202170624361"></p><p>如果tabbar由从服务器获取到的数据或tabbar不是由v-for渲染出来的，这两种请求不需要考虑路径问题。</p><p>当我们点击对应的tab项，需要改变文字颜色和图片，代码如下：</p><p><img src="/jixiang/assets/image-20240202171630764-24970aa3.png" alt="image-20240202171630764"></p><p>将主题颜色定义为一个css变量，以方便其他地方使用，如下：</p><p><img src="/jixiang/assets/image-20240202171923163-114974be.png" alt="image-20240202171923163"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202172042919-d191e89e.png" alt="image-20240202172042919"></p><p>实现tab项是否选中，来展示不同图片，代码如下：</p><p><img src="/jixiang/assets/image-20240202173321299-5ae911c3.png" alt="image-20240202173321299"></p><p>还有第二种做法，如下：</p><p><img src="/jixiang/assets/image-20240202173445978-9a5a790d.png" alt="image-20240202173445978"></p><p>当我们点击不同的tab项，需要修改currentIndex，还要切换不同的路由组件，代码如下：</p><p><img src="/jixiang/assets/image-20240202174148056-c8530a5a.png" alt="image-20240202174148056"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202174221342-c1757cba.png" alt="image-20240202174221342"></p><h3 id="_2-使用vant组件库" tabindex="-1"><a class="header-anchor" href="#_2-使用vant组件库" aria-hidden="true">#</a> 2. 使用vant组件库</h3><p>安装vant组件库，操作：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i vant
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/jixiang/assets/image-20240202174624434-75a729ec.png" alt="image-20240202174624434"></p><p>安装unplugin-vue-components，操作</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i unplugin-vue-components <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/jixiang/assets/image-20240202180305849-bf3eae7c.png" alt="image-20240202180305849"></p><p>在vite中导入相关代码，如下：</p><p><img src="/jixiang/assets/image-20240202180525621-88c28f2a.png" alt="image-20240202180525621"></p><p>修改完配置文件需要重启服务器，</p><p><img src="/jixiang/assets/image-20240202180919221-cc009641.png" alt="image-20240202180919221"></p><p>引入button、评分组件，测试如下，</p><p><img src="/jixiang/assets/image-20240202182411165-66a9abba.png" alt="image-20240202182411165"></p><h3 id="_3-使用组件库的样式方案" tabindex="-1"><a class="header-anchor" href="#_3-使用组件库的样式方案" aria-hidden="true">#</a> 3. 使用组件库的样式方案</h3><p>总结：</p><ul><li>方式一：使用插槽，插入自己的元素。那么在自己的作用域中直接修改这个元素。</li><li>方式二：全局定义一个变量，覆盖它默认变量的值。缺点：全局修改。</li><li>方式三：局部定义一个变量，覆盖它默认变量的值。优点：局部修改。</li><li>方式四：直接找到对应子组件的选择器，进行修改，需要加 :deep(子组件中元素的选择器)进行修改。直接修改CSS。</li></ul><p>使用vant组件库中的tabbar组件进行搭建，代码如下：</p><p><img src="/jixiang/assets/image-20240202185547637-3b8e285a.png" alt="image-20240202185547637"></p><p>给van-tabbar-item添加to属性，来实现路由跳转，如下：</p><p><img src="/jixiang/assets/image-20240202190231218-3811e63f.png" alt="image-20240202190231218"></p><p>现在我们对图标的大小不满意，我们需要手动修改图标样式。</p><p>方式一：因为我们使用到了插槽，所以可以直接对其进行设置样式，代码如下：</p><p><img src="/jixiang/assets/image-20240202190800602-f7fa2194.png" alt="image-20240202190800602"></p><p>方式三：根据对应的dom元素，找到类名，然后直接修改样式，代码如下：</p><p><img src="/jixiang/assets/image-20240202192225421-1bbdf848.png" alt="image-20240202192225421"></p><p>然后发现修改后，css样式不起效果，字体大小并没有改变，如下：</p><p><img src="/jixiang/assets/image-20240202193111901-1bcb044c.png" alt="image-20240202193111901"></p><p>如果我们想让子组件中具有同样类名的样式生效，需要使用:deep(.class)语法，代码如下：</p><p><img src="/jixiang/assets/image-20240202193534139-b86414bc.png" alt="image-20240202193534139"></p><p>恢复之前的代码，如下：</p><p><img src="/jixiang/assets/image-20240202194747975-54600e83.png" alt="image-20240202194747975"></p><p>准备开发导航条，结构和样式如下：</p><p><img src="/jixiang/assets/image-20240202195948621-b97ce21d.png" alt="image-20240202195948621"></p><p>可以将导航条代码进行抽离，在home文件夹下，创建cpns/home-nav-bar.vue文件，代码如下：</p><p><img src="/jixiang/assets/image-20240202200446073-c5ef6639.png" alt="image-20240202200446073"></p><p>将home组件中导航条代码抽离到home-nav-bar组件中，如下：</p><p><img src="/jixiang/assets/image-20240202200739678-f065c14b.png" alt="image-20240202200739678"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240202200928738-d705d389.png" alt="image-20240202200928738"></p><p>搭建banner的结构，代码如下：</p><p><img src="/jixiang/assets/image-20240202223309326-4cf4644d.png" alt="image-20240202223309326"></p><p>我们还需要添加样式，让图片正常显示，代码如下：</p><p><img src="/jixiang/assets/image-20240202223632799-f8259e2b.png" alt="image-20240202223632799"></p><h3 id="_4-城市选择页面" tabindex="-1"><a class="header-anchor" href="#_4-城市选择页面" aria-hidden="true">#</a> 4. 城市选择页面</h3><p>在view/home/cpns文件夹下，创建home-search-box.vue文件，将代码抽离到组件中。如下：</p><p><img src="/jixiang/assets/image-20240203081648240-551af3c1.png" alt="image-20240203081648240"></p><p>点击按钮，获取位置信息。代码如下:</p><p><img src="/jixiang/assets/image-20240203083610813-2aa600f1.png" alt="image-20240203083610813"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240203083744473-033b2ea7.png" alt="image-20240203083744473"></p><p>开始搭建选择城市页面。</p><p>创建city路由组件，并配置路由，代码如下：</p><p><img src="/jixiang/assets/image-20240203084340390-50727c34.png" alt="image-20240203084340390"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240203084421973-a2e671d4.png" alt="image-20240203084421973"></p><p>点击城市按钮，实现编程式导航，跳转路由，代码如下：</p><p><img src="/jixiang/assets/image-20240203091937944-3d933296.png" alt="image-20240203091937944"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240203092202811-aa9ea33f.png" alt="image-20240203092202811"></p><p>但是，当我们跳转到选择城市页、登录等其他页面时，不需要显示底部tabbar，因此我们可以配置路由信息，代码如下：</p><p><img src="/jixiang/assets/image-20240203093216655-06e0d654.png" alt="image-20240203093216655"></p><p>在App组件中，获取route信息，以此来控制tabbar是否显示，代码如下：</p><p><img src="/jixiang/assets/image-20240203100104975-14bb4202.png" alt="image-20240203100104975"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240203093616264-30708e3e.png" alt="image-20240203093616264"></p><p>搭建顶部搜索条，效果如下：</p><p><img src="/jixiang/assets/image-20240203101122460-ac256fd8.png" alt="image-20240203101122460"></p><p>从vant组件库中引入vant-searh组件，将其放入city.vue文件中，代码如下：</p><p><img src="/jixiang/assets/image-20240203101748146-04b3af56.png" alt="image-20240203101748146"></p><p>添加shap属性，将其修改为圆角，如下：</p><p><img src="/jixiang/assets/image-20240203102035334-71f8d510.png" alt="image-20240203102035334"></p><p>搜索框右侧还有一个取消按钮，如下：</p><p><img src="/jixiang/assets/image-20240203102613554-3ccad0fd.png" alt="image-20240203102613554"></p><p>搜索框中的图标颜色还是不太正确，我们仍然需要调整。</p><p><img src="/jixiang/assets/image-20240203103626808-c4809ffd.png" alt="image-20240203103626808"></p><p>在cmmon.js中修改全局变量，代码如下：</p><p><img src="/jixiang/assets/image-20240203104036951-96c50dce.png" alt="image-20240203104036951"></p><p>当我们点击取消按钮，还需要返回到首页面，因此我们要监听取消按钮的点击，代码如下：</p><p><img src="/jixiang/assets/image-20240203104846291-c27b2eac.png" alt="image-20240203104846291"></p><p>搭建城市搜索页面的tabBar。</p><p><img src="/jixiang/assets/image-20240203105056311-f5257533.png" alt="image-20240203105056311"></p><p>搭建tabbar结构，如下：</p><p><img src="/jixiang/assets/image-20240203111142502-10099b02.png" alt="image-20240203111142502"></p><p>修改tab项的内容，代码如下：</p><p><img src="/jixiang/assets/image-20240203111450626-4c08382c.png" alt="image-20240203111450626"></p><p>我们不打算在当前组件中切换，因此删除van-tab标签的内容。如下：</p><p><img src="/jixiang/assets/image-20240203111656690-cd209db8.png" alt="image-20240203111656690"></p><p>我们还需要修改tab项下面横条的颜色，代码如下：</p><p><img src="/jixiang/assets/image-20240203111907946-0bbcfa37.png" alt="image-20240203111907946"></p><p>我们还可以修改tab项底部条的高度，代码如下：</p><p><img src="/jixiang/assets/image-20240203111907946-0bbcfa37.png" alt="image-20240203112238489"></p><p>如果我们想调整tabs的高度，可以重新局部定义相关css变量，代码如下：</p><p><img src="/jixiang/assets/image-20240203112612405-88e23eca.png" alt="image-20240203112612405"></p><h3 id="_5-网络请求" tabindex="-1"><a class="header-anchor" href="#_5-网络请求" aria-hidden="true">#</a> 5. 网络请求</h3><p>先安装axios</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i axios
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在services文件夹下，创建request文件夹并引入之前封装好的index.js文件，如下：</p><p><img src="/jixiang/assets/image-20240203114335218-fd29a23c.png" alt="image-20240203114335218"></p><p>在request文件夹下，创建config.js，将定义的BASE_URL和超时时间导出，如下：</p><p><img src="/jixiang/assets/image-20240203114715427-a3739ac0.png" alt="image-20240203114715427"></p><p>在index.js文件中引入，并替换，如下：</p><p><img src="/jixiang/assets/image-20240203115024415-c7ab26e0.png" alt="image-20240203115024415"></p><p>因为我们需要发送不同的请求，因此在services文件夹下创建modules，用来存放不同模块的请求，代码如下：</p><p><img src="/jixiang/assets/image-20240203120435309-888ef73e.png" alt="image-20240203120435309"></p><p>在city组件中请求数据，代码如下：</p><p><img src="/jixiang/assets/image-20240203120937244-c790cedd.png" alt="image-20240203120937244"></p><p>每当有一个组件需要发生网络请求，我们都要通过一长串路径进行引入。因此我们在services文件夹下，创建index.js文件，将网络请求的函数统一导出，代码如下：</p><p><img src="/jixiang/assets/image-20240203121642747-42300fb0.png" alt="image-20240203121642747"></p><p>当我们在组件中引入网络请求方法时，引入路径就可以得到大大简化，代码如下：</p><p><img src="/jixiang/assets/image-20240203121743514-c59a78d1.png" alt="image-20240203121743514"></p><p>在后续开发中，还会有其他的请求。因此我们提前定义不同的模块。如下：</p><p><img src="/jixiang/assets/image-20240203121955306-b819f35c.png" alt="image-20240203121955306"></p><p>我们想在city.vue组件中发送网络请求，获取到数据后，动态渲染tab标签，如下：</p><p><img src="/jixiang/assets/image-20240203175957413-71b471a0.png" alt="image-20240203175957413"></p><p>但是这样会造成组件内的代码臃肿。因此我们可以将组件中的网络请求抽离到store/modules/city.js中，代码如下：</p><p><img src="/jixiang/assets/image-20240203181543885-a92c8e35.png" alt="image-20240203181543885"></p><p>在city.vue组件中，调用action发起网络请求，获取数据。代码如下：</p><p><img src="/jixiang/assets/image-20240203182226988-01436f01.png" alt="image-20240203182226988"></p><p>使用请求来的数据，动态渲染tab标签，代码如下：</p><p><img src="/jixiang/assets/image-20240203182305688-0124e506.png" alt="image-20240203182305688"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240203182338047-54639efb.png" alt="image-20240203182338047"></p><p>选择城市页面向下滚动时，搜索框和和tab标签页保持固定位置。</p><p><img src="/jixiang/assets/image-20240204092432035-5901a203.png" alt="image-20240204092432035"></p><p>方案一：上面固定定位，让下面内容</p><p><img src="/jixiang/assets/image-20240204100818468-2ba90ec1.png" alt="image-20240204100818468"></p><p>修改样式，代码如下：</p><p><img src="/jixiang/assets/image-20240204101310477-95d44745.png" alt="image-20240204101310477"></p><p>因此我们采取第二种方案：给下面的盒子设置一个高度，然后 overflow-y: auto; 即可。代码如下：</p><p><img src="/jixiang/assets/image-20240204103047495-ccab78bf.png" alt="image-20240204103047495"></p><p>我们选中不同标签就要获取不同的数据。</p><p><img src="/jixiang/assets/image-20240204162405898-da02d0f6.png" alt="image-20240204162405898"></p><p>但是当我们点击tab项进行切换时，绑定的数据如下：</p><p><img src="/jixiang/assets/image-20240204162755800-f4ceb164.png" alt="image-20240204162755800"></p><p>我们希望v-model绑定的是key，这样切换时，tabActive就会发生变化，从而渲染不同的数据。代码如下：</p><p><img src="/jixiang/assets/image-20240204163748729-97d22d7c.png" alt="image-20240204163748729"></p><p>但是当我们切换tab项时，数据并不发生变化，代码如下：</p><p><img src="/jixiang/assets/image-20240204164257062-9dd68d28.png" alt="image-20240204164257062"></p><p>因此我们需要使用计算属性将currentGroup包裹，代码如下：</p><p><img src="/jixiang/assets/image-20240204165014921-cd56fe18.png" alt="image-20240204165014921"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240204171522922-f99c2737.png" alt="image-20240204171522922"></p><p>渲染城市列表数据。</p><p><img src="/jixiang/assets/image-20240205075821150-602d186e.png" alt="image-20240205075821150"></p><p>渲染数据，代码如下：</p><p><img src="/jixiang/assets/image-20240205081317885-5a7bcab6.png" alt="image-20240205081317885"></p><p>将城市列表抽取到city-group组件中，代码如下：</p><p><img src="/jixiang/assets/image-20240205082054037-68104c04.png" alt="image-20240205082054037"></p><p>在city组件中引入，并查看效果。</p><p><img src="/jixiang/assets/image-20240205082225045-ad4188dd.png" alt="image-20240205082225045"></p><p>使用vant组件库中的IndexBar组件来重构城市列表，代码如下：</p><p><img src="/jixiang/assets/image-20240205110839464-520db657.png" alt="image-20240205110839464"></p><p>当我们切换tab标签时，下方的城市列表展示会很缓慢，因为有太多数据，因此我们需要动态渲染出两个城市列表，并通过v-show进行隐藏或显示。代码如下：</p><p><img src="/jixiang/assets/image-20240205112708855-b906fc37.png" alt="image-20240205112708855"></p><p>滚动城市列表时，标题字母会出现停留效果，我们不需要。并且会盖住tab项。</p><p><img src="/jixiang/assets/image-20240205113433414-3c4c1297.png" alt="image-20240205113433414"></p><p>根据文档的提示，我们可以给van-index-bar组件添加sticky属性，代码如下：</p><p><img src="/jixiang/assets/image-20240205113538927-64e6ec40.png" alt="image-20240205113538927"></p><p>除此之外，我们还需要展示热门城市，效果如下：</p><p><img src="/jixiang/assets/image-20240205114327381-f7f1b0d3.png" alt="image-20240205114327381"></p><p>先使用模拟数据进行渲染，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240205125624898-a160eed7.png" alt="image-20240205125624898"></p><p>使用真实数据渲染热门城市展示，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240205130119864-e9f3e150.png" alt="image-20240205130119864"></p><p>但是事实上，字母UV都没有对应的城市数据，因此我们需要手动向indexBar传递数据。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240205133104492-15aeac33.png" alt="image-20240205133104492"></p><p>但是在模板中，给index-list属性设置一长串的属性值，影响代码的阅读性，并不好。因此我们将其抽离成计算属性。代码如下：</p><p><img src="/jixiang/assets/image-20240205134410928-d3e892e2.png" alt="image-20240205134410928"></p><p>点击城市跳转到首页面，并实现数据回显，效果如下：</p><p><img src="/jixiang/assets/image-20240205222015505-fd3951ee.png" alt="image-20240205222015505"></p><p>因为当前城市这个对象可能在多个组件中使用，因此为了方便起见，我们将其定义在store中，代码如下：</p><p><img src="/jixiang/assets/image-20240205223605745-7a3c2165.png" alt="image-20240205223605745"></p><p>点击城市，然后修改store中存储的currentCity，代码如下：</p><p><img src="/jixiang/assets/image-20240205223750433-8896ddac.png" alt="image-20240205223750433"></p><p><img src="/jixiang/assets/image-20240205224728891-36131b1e.png" alt="image-20240205224728891"></p><p>在首页中动态渲染选中的城市，代码如下：</p><p><img src="/jixiang/assets/image-20240205225534143-0154d58c.png" alt="image-20240205225534143"></p><h3 id="_6-日期选择" tabindex="-1"><a class="header-anchor" href="#_6-日期选择" aria-hidden="true">#</a> 6. 日期选择</h3><p>搭建日期选择，效果如下：</p><p><img src="/jixiang/assets/image-20240205225940622-36469d57.png" alt="image-20240205225940622"></p><p><img src="/jixiang/assets/image-20240205233425247-24d2d725.png" alt="image-20240205233425247"></p><p>但是我们需要动态展示日期，安装dayjs，在utils文件夹下，定义format_date.js定义格式化日期函数。代码如下：</p><p><img src="/jixiang/assets/image-20240205233834409-c367d0a3.png" alt="image-20240205233834409"></p><p><img src="/jixiang/assets/image-20240206075156838-a05d48a9.png" alt="image-20240206075156838"></p><p>点击日期，跳转日期选择。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240206081148125-ba2e1f67.png" alt="image-20240206081148125"></p><p>要选择多个日期，并且修改日历的高度和主题色。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240206082042825-778046db.png" alt="image-20240206082042825"></p><p>确定按钮的点击事件，选择完日期，将对应的日期格式化完之后显示。代码和修过如下：</p><p><img src="/jixiang/assets/image-20240206082936060-270b6fe4.png" alt="image-20240206082936060"></p><p>点击日期框，直接打开日历，代码如下：</p><p><img src="/jixiang/assets/image-20240206083222884-97a5e567.png" alt="image-20240206083222884"></p><p>快捷选择：选择完日期后，不需要点击确定按钮，直接触发confirm事件。代码如下：</p><p><img src="/jixiang/assets/image-20240206083508003-ed404336.png" alt="image-20240206083508003"></p><p>动态设置共几晚的值，现在utils文件夹下format_date.js中，定义一个计算日期的函数，代码如下：</p><p><img src="/jixiang/assets/image-20240206084832854-3eb7f7cc.png" alt="image-20240206084832854"></p><p>进入到首页，我们就要初始化共几晚的值，代码如下：</p><p><img src="/jixiang/assets/image-20240206085341870-899063b5.png" alt="image-20240206085341870"></p><p>当我们选择完日期后，还需要重新计算停留几晚，代码如下：</p><p><img src="/jixiang/assets/image-20240206090753496-83fbdce5.png" alt="image-20240206090753496"></p><p>人数和关键字区域的搭建，代码如下：</p><p><img src="/jixiang/assets/image-20240206093835706-7a42f61b.png" alt="image-20240206093835706"></p><h3 id="_7-热门建议区域" tabindex="-1"><a class="header-anchor" href="#_7-热门建议区域" aria-hidden="true">#</a> 7. 热门建议区域</h3><p>热门建议的数据请求和展示，效果如下：</p><p><img src="/jixiang/assets/image-20240206094144583-6bc707b4.png" alt="image-20240206094144583"></p><p>请求数据，代码如下：</p><p><img src="/jixiang/assets/image-20240206095647819-5e457ec4.png" alt="image-20240206095647819"></p><p>因为该数据要在子组件中展示，因此将数据以自定义属性的方式传递给子组件，代码如下：</p><p><img src="/jixiang/assets/image-20240206100508935-3e52107f.png" alt="image-20240206100508935"></p><p>动态渲染数据并添加样式，代码如下：‘</p><p><img src="/jixiang/assets/image-20240206101635703-c3320c5f.png" alt="image-20240206101635703"></p><p>添加样式，代码如下：</p><p><img src="/jixiang/assets/image-20240206102723849-2e33efe6.png" alt="image-20240206102723849"></p><p>将组件中的网络请求抽取到单独的仓库模块中，代码如下：</p><p><img src="/jixiang/assets/image-20240206110622457-7e1569c4.png" alt="image-20240206110622457"></p><p>将网络请求函数抽取到services/modules/home.js中，并在services/index.js文件夹中统一导出。代码如下：</p><p><img src="/jixiang/assets/image-20240206113836948-8acccfc7.png" alt="image-20240206113836948"></p><p>修改仓库中action的代码，如下：</p><p><img src="/jixiang/assets/image-20240206113926378-312d8780.png" alt="image-20240206113926378"></p><p>在home-search-box组件中，直接拿到store中存储的数据，代码如下：</p><p><img src="/jixiang/assets/image-20240206113410616-50562fc5.png" alt="image-20240206113410616"></p><p>在home组件中发生网络请求，代码如下：</p><p><img src="/jixiang/assets/image-20240206113528908-b444df47.png" alt="image-20240206113528908"></p><p>效果如下：</p><p><img src="/jixiang/assets/image-20240206113951191-a66a232c.png" alt="image-20240206113951191"></p><h3 id="_8-搜索按钮" tabindex="-1"><a class="header-anchor" href="#_8-搜索按钮" aria-hidden="true">#</a> 8. 搜索按钮</h3><p>搜索按钮搭建，效果如下：</p><p><img src="/jixiang/assets/image-20240207090143218-4838fea5.png" alt="image-20240207090143218"></p><p>搭建结构和样式，代码和效果如下:</p><p><img src="/jixiang/assets/image-20240207091509186-8216058b.png" alt="image-20240207091509186"></p><p>因为热门建议模块，也有section类，他的高度被定死了。因此按钮才会盖住上面一部分，因此让建议模块高度自适应。代码如下：</p><p><img src="/jixiang/assets/image-20240207091745411-aa3fb780.png" alt="image-20240207091745411"></p><p>当我们点击搜索按钮，需要跳转到搜索页面。因此创建对应的组件和配置路由。代码如下：</p><p><img src="/jixiang/assets/image-20240207091941814-ce05f649.png" alt="image-20240207091941814"></p><p>创建对应的组件，配置路由。如下：</p><p><img src="/jixiang/assets/image-20240207093438430-d76e27c1.png" alt="image-20240207093438430"></p><p>点击按钮跳转到页面并传递参数，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240207094431297-b54ec03e.png" alt="image-20240207094431297"></p><p>在search组件中可以查看传递过来的参数，代码如下：</p><p><img src="/jixiang/assets/image-20240207094515380-c318bb9c.png" alt="image-20240207094515380"></p><h3 id="_9-分类模块" tabindex="-1"><a class="header-anchor" href="#_9-分类模块" aria-hidden="true">#</a> 9. 分类模块</h3><p><img src="/jixiang/assets/image-20240207105549118-c7f63790.png" alt="image-20240207105549118"></p><p>定义请求方法，并在store中定义action，代码如下：</p><p><img src="/jixiang/assets/image-20240207110807315-ad11330a.png" alt="image-20240207110807315"></p><p>在home组件中调用action，成功获取到数据。效果如下：</p><p><img src="/jixiang/assets/image-20240207111713873-b5d80807.png" alt="image-20240207111713873"></p><p><img src="/jixiang/assets/image-20240207110856625-92309306.png" alt="image-20240207110856625"></p><p>创建home-categories.vue组件，并在home组件中导入，代码如下：</p><p><img src="/jixiang/assets/image-20240207112245754-65e791ac.png" alt="image-20240207112245754"></p><p>搭建基本结构和样式，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240207113928171-5d2d7777.png" alt="image-20240207113928171"></p><p>滚动时隐藏滚动条，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240207114610667-118149d8.png" alt="image-20240207114610667"></p><h3 id="_10-列表功能" tabindex="-1"><a class="header-anchor" href="#_10-列表功能" aria-hidden="true">#</a> 10. 列表功能</h3><p>首页列表展示，效果如下：</p><p><img src="/jixiang/assets/image-20240207122908274-4ddf73f3.png" alt="image-20240207122908274"></p><p>创建home-content.vue组件，并在home组件中引入并使用。代码如下：</p><p><img src="/jixiang/assets/image-20240207123622330-525a0761.png" alt="image-20240207123622330"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240207123700682-9b1d2e88.png" alt="image-20240207123700682"></p><p>修改样式，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240207124442108-bd373378.png" alt="image-20240207124442108"></p><p>在services/modules/home.js中，定义一个请求房屋列表的函数，代码如下：</p><p><img src="/jixiang/assets/image-20240207130027289-6a0c177b.png" alt="image-20240207130027289"></p><p>在store中管理列表数据和定义发送网络请求的action。代码如下：</p><p><img src="/jixiang/assets/image-20240207130052589-6fe7f922.png" alt="image-20240207130052589"></p><p>在home组件中调用该action发送网络请求获取数据，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240207130305149-9d6f63cd.png" alt="image-20240207130305149"></p><p>修改store中home.js中的代码，如下：</p><p><img src="/jixiang/assets/image-20240207130626368-9bc012d9.png" alt="image-20240207130626368"></p><p>我们在下拉加载更多时，还需要将新请求到的数据，添加到houseList中。代码如下：</p><p><img src="/jixiang/assets/image-20240207143439836-70fc780d.png" alt="image-20240207143439836"></p><p>因此，当我们下拉加载更多时，每次应该传入新的page。修改代码，如下：</p><p><img src="/jixiang/assets/image-20240207144324318-6af129cc.png" alt="image-20240207144324318"></p><p><img src="/jixiang/assets/image-20240207144423448-609ef92b.png" alt="image-20240207144423448"></p><p>测试之，如下：</p><p><img src="/jixiang/assets/image-20240207144514960-43e342b3.png" alt="image-20240207144514960"></p><p><img src="/jixiang/assets/image-20240207144704944-fad6323c.png" alt="image-20240207144704944"></p><p>我们并不想把当前页码保存在组件中，而是保存在store中。因此，我们修改代码，如下：</p><p><img src="/jixiang/assets/image-20240207145200497-edc1c80c.png" alt="image-20240207145200497"></p><p>修改仓库中的代码，如下：</p><p><img src="/jixiang/assets/image-20240207145259298-dece0cff.png" alt="image-20240207145259298"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240207145340018-91353ab0.png" alt="image-20240207145340018"></p><p>在home-content.vue组件中请求并获取数据，代码如下：</p><p><img src="/jixiang/assets/image-20240209093308932-248a91fc.png" alt="image-20240209093308932"></p><p>根据不同类型展示不同结构的房间，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209093518385-0bcd0789.png" alt="image-20240209093518385"></p><p>虽然房间项组件在home当前在home组件中使用，但是此结构还可能在别的组件中使用。因此我们将其抽取到公共组件中，代码如下：</p><p><img src="/jixiang/assets/image-20240209094020352-9c40463a.png" alt="image-20240209094020352"></p><p>在components文件夹下，创建house-list-v9/house-list-v9.vue，代码如下：</p><p><img src="/jixiang/assets/image-20240209094927366-3a878f0d.png" alt="image-20240209094927366"></p><p>在home-content组件中引入并使用，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209095606587-6a4a85ef.png" alt="image-20240209095606587"></p><p>在components文件夹下，创建house-item-v3组件。同理，代码如下：</p><p><img src="/jixiang/assets/image-20240209100315793-afae7211.png" alt="image-20240209100315793"></p><p>开始搭建基本结构，代码如下：</p><p><img src="/jixiang/assets/image-20240209101818433-d257aac9.png" alt="image-20240209101818433"></p><p>引入样式，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209103702315-0fb2d640.png" alt="image-20240209103702315"></p><p>将house--item-3的代码全部拷贝复制到house-item-v9中，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209105431356-408732d5.png" alt="image-20240209105431356"></p><p>使用计算属性将评分数据的类型转换为数字型，并修改评分组件的样式。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209110221443-54c17490.png" alt="image-20240209110221443"></p><p>添加readonly和allow-half属性，使评分组件显示小数效果。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209110518157-826c2cd1.png" alt="image-20240209110518157"></p><p>修改house-item-v3组件的样式，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209112306060-e46080c0.png" alt="image-20240209112306060"></p><p>在home-content组件中，修改对应的样式。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240209112607865-3b80c3fe.png" alt="image-20240209112607865"></p><p>请求的数据中某一条可能没有priceTipBadge属性，从而在渲染时报错。效果如下：</p><p><img src="/jixiang/assets/image-20240209170305086-211065c3.png" alt="image-20240209170305086"></p><p>因此我们需要判断itemData.priceTipBadge有值后，再渲染对应的结构。代码如下：</p><p><img src="/jixiang/assets/image-20240209170421483-da98ff3c.png" alt="image-20240209170421483"></p><p>拖动到底部，自动加载更多。需要监听页面达到底部，</p><p><img src="/jixiang/assets/image-20240209192602052-70198820.png" alt="image-20240209192602052"></p><p>当我们进入页面时，我们需要进行监听。同理，当我们离开页面时，我们也需要移除监听。代码如下：</p><p><img src="/jixiang/assets/image-20240209193917079-54d9d3f3.png" alt="image-20240209193917079"></p><p>当其他页面也有此功能时，我们也需要再次编写。因此我们将其抽离成hook。</p><p>思路一：传入一个回调函数，当滚动到底部时，调用此回调函数。代码如下：</p><p><img src="/jixiang/assets/image-20240209195544591-cdbd3606.png" alt="image-20240209195544591"></p><p>思路二：定义一个变量，将此变量返回出去，再使用watch监听其变化。代码如下：</p><p><img src="/jixiang/assets/image-20240209202407224-8e1847f1.png" alt="image-20240209202407224"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240209202525085-e2b3966a.png" alt="image-20240209202525085"></p><h3 id="_11-顶部搜索条" tabindex="-1"><a class="header-anchor" href="#_11-顶部搜索条" aria-hidden="true">#</a> 11. 顶部搜索条</h3><p>home页面滚动到一定位置，显示滚动条。代码如下：</p><p><img src="/jixiang/assets/image-20240209222122672-0d0a6301.png" alt="image-20240209222122672"></p><p><img src="/jixiang/assets/image-20240209222239585-2ba53916.png" alt="image-20240209222239585"></p><p>我们也可以使用计算属性来动态展示搜索条的显示与隐藏。代码如下：</p><p><img src="/jixiang/assets/image-20240210094613171-e934a507.png" alt="image-20240210094613171"></p><p>一旦发生滚动，scroll的回调函数执行频率非常高。对其进行节流。</p><p>先安装underscore，操作如下：</p><p><img src="/jixiang/assets/image-20240210101016791-1f34fc78.png" alt="image-20240210101016791"></p><p>将scroll的回调函数使用throttle进行处理，得到一个新函数。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240210101946861-d62ef62e.png" alt="image-20240210101946861"></p><p>处理bug：手动输入路由，可以正常跳转。但是底部tabbar不能正常显示，效果如下：</p><p><img src="/jixiang/assets/image-20240210103315619-e6d455fb.png" alt="image-20240210103315619"></p><p>原因：我们手动在地址栏修改路由，currentIndex并没有被修改，因此tabbar的图标不能正常切换。</p><p><img src="/jixiang/assets/image-20240210105721860-6aba1e2a.png" alt=""></p><p>当输入的地址不属于tabbar中的其中一个，我们就不能给currentIndex设置值。所以我们需要判断，代码如下：</p><p><img src="/jixiang/assets/image-20240210110217898-3d50ac7c.png" alt="image-20240210110217898"></p><p>搜索框样式，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240210122123972-99f8a69c.png" alt="image-20240210122123972"></p><p>在components文件夹下封装一个search-bar组件，代码如下：</p><p><img src="/jixiang/assets/image-20240210122931290-94e5bfab.png" alt="image-20240210122931290"></p><p>在home组件中引入并使用，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240210123032805-aaf78c29.png" alt="image-20240210123032805"></p><p>搜索条预期效果如下：</p><p><img src="/jixiang/assets/image-20240210130102191-2ed1d33b.png" alt="image-20240210130102191"></p><p>开始搭建search-bar结构，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240210131829584-8918d13a.png" alt="image-20240210131829584"></p><p>关于搜索框时间，解释如下：</p><p><img src="/jixiang/assets/image-20240210132106952-650e02e1.png" alt="image-20240210132106952"></p><p>所以search-bar中的时间应该通过自定义属性传递进来。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240210140111869-39a135f3.png" alt="image-20240210140111869"></p><p>时间数据存储在home-search-box中，而home组件中的search-bar组件也需要用到，并且别的页面也会用到此时间数据。因此我们创建一个公共mainStore，从而将其抽取到公共仓库中。代码如下：</p><p><img src="/jixiang/assets/image-20240210141441287-213f798a.png" alt="image-20240210141441287"></p><p>重构home-search-box的代码，如下：</p><p><img src="/jixiang/assets/image-20240210143718925-aa2d8da7.png" alt="image-20240210143718925"></p><p><img src="/jixiang/assets/image-20240210143811690-e00a92aa.png" alt="image-20240210143811690"></p><p>效果如下：</p><p><img src="/jixiang/assets/image-20240210143846273-7b07a5f2.png" alt="image-20240210143846273"></p><p>重构search-bar组件中的代码，如下：</p><p><img src="/jixiang/assets/image-20240210145206398-d3ae3c9e.png" alt="image-20240210145206398"></p><p>因此我们还需要修改时间格式化函数，代码如下：</p><p><img src="/jixiang/assets/image-20240210145436903-9ef794e5.png" alt="image-20240210145436903"></p><p>在search-bar组件中格式化时间时，还需要传递格式。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240210145642576-e057ce9c.png" alt="image-20240210145642576"></p><h3 id="_12-网络请求loading效果" tabindex="-1"><a class="header-anchor" href="#_12-网络请求loading效果" aria-hidden="true">#</a> 12. 网络请求loading效果</h3><p>在所有页面进行加载时，都需要展示loading效果。因此要将该组件放在App.vue组件中。代码如下：</p><p><img src="/jixiang/assets/image-20240211113921688-6608aa6e.png" alt="image-20240211113921688"></p><p>搭建loading组件的基本结构和样式，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211131542336-8abeb4e9.png" alt="image-20240211131542336"></p><p>因为其他页面可能也需要控制loading的显示和隐藏。所以我们将控制loading的显示与因此的变量放入到mainStore中，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211134152951-5f0335c2.png" alt="image-20240211134152951"></p><p>如果loading一直显示，网络请求一直没有结束，或者网络请求没有设置超时时间，因此用户无法进行其他交互。所以在用户点击蒙板时，需要因此loading。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211134857516-78a0c4c3.png" alt="image-20240211134857516"></p><p>因为home页面就有很多网络请求，例如：分类请求，房屋列表请求等。其他页面也会有很多网络请求。因此我们就不要把loading展示和隐藏的逻辑写在页面中。而是写入到services/request/index.js中，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211142954078-27aedf03.png" alt="image-20240211142954078"></p><p>浏览器测试之，效果如下：</p><p><img src="/jixiang/assets/image-20240211143208223-28f8c8cf.png" alt="image-20240211143208223"></p><p>将loading的显示与隐藏相关代码写在网络请求中显得有点不合适。因此我们将其抽取到响应和请求拦截器中，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211144252138-95a90e35.png" alt="image-20240211144252138"></p><h3 id="_13-详情页" tabindex="-1"><a class="header-anchor" href="#_13-详情页" aria-hidden="true">#</a> 13. 详情页</h3><ul><li>监听item的点击</li><li>跳转到详情页</li><li>携带对应的参数houseId</li></ul><h4 id="a-跳转到详情页" tabindex="-1"><a class="header-anchor" href="#a-跳转到详情页" aria-hidden="true">#</a> A）跳转到详情页</h4><p>不管点击house-item-v3还是house-item-v9都要跳转到详情页，因此可以直接给该组件绑定点击事件。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211173422472-24f997fd.png" alt="image-20240211173422472"></p><p>点击房间item需要跳转到详情页，因此在views文件夹下创建detail组件。代码如下：</p><p><img src="/jixiang/assets/image-20240211174034964-a7458ca0.png" alt="image-20240211174034964"></p><p>配置对应的路由，代码如下：</p><p><img src="/jixiang/assets/image-20240211174844767-d4370a7e.png" alt="image-20240211174844767"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240211174944649-bd8e2108.png" alt="image-20240211174944649"></p><h4 id="b-导航栏" tabindex="-1"><a class="header-anchor" href="#b-导航栏" aria-hidden="true">#</a> B）导航栏</h4><p>详情页面导航开发，代码和效果如下：‘</p><p><img src="/jixiang/assets/image-20240211181717682-4896f2b4.png" alt="image-20240211181717682"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240211182323060-b3b5a6c0.png" alt="image-20240211182323060"></p><p>点击返回按钮，返回到首页面。代码和效果如下:</p><p><img src="/jixiang/assets/image-20240211184754486-4b01b010.png" alt="image-20240211184754486"></p><p>在services/modules/文件夹下创建detail.js，封装对应的请求。代码如下：</p><p><img src="/jixiang/assets/image-20240211192317435-28d3332e.png" alt="image-20240211192317435"></p><p>在services/index.js文件夹中，统一导出。代码如下：</p><p><img src="/jixiang/assets/image-20240211192442892-1ac07cc4.png" alt="image-20240211192442892"></p><p>在detail组件中引入并发送请求获取数据。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211193354339-389c4e8d.png" alt="image-20240211193354339"></p><p>为了方便使用detailInfos.mainPart属性，我们使用计算属性将其处理。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211194447010-cae70f42.png" alt="image-20240211194447010"></p><h4 id="c-轮播图" tabindex="-1"><a class="header-anchor" href="#c-轮播图" aria-hidden="true">#</a> C）轮播图</h4><p>开始搭建轮播图结构和样式，预期效果如下：</p><p><img src="/jixiang/assets/image-20240211195215263-6690e767.png" alt="image-20240211195215263"></p><p>复制组件swipe到项目中，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211195420444-77a131e5.png" alt="image-20240211195420444"></p><p>为了保持detail组件代码简洁，因此将轮播图结构抽取到单独的组件中。因此在detail/cpns文件夹下创建detail-swipe.vue组件。代码如下：</p><p><img src="/jixiang/assets/image-20240211205125381-c515e495.png" alt="image-20240211205125381"></p><p>在detail.vue组件中引入并使用，代码如下：</p><p><img src="/jixiang/assets/image-20240211205211334-a366b1af.png" alt="image-20240211205211334"></p><p>我们将轮播图组件需要的数据传入到组件中，代码如下：</p><p><img src="/jixiang/assets/image-20240211210741794-c078e725.png" alt="image-20240211210741794"></p><p>但是网络请求获取数据可能会有延迟，因此我们在模板中使用网络请求中的数据可能会出现问题。因此我们可以使用v-if进行判断，然后再渲染数据。代码如下：</p><p><img src="/jixiang/assets/image-20240211210401951-c96235a5.png" alt="image-20240211210401951"></p><p>浏览器测试之如下：</p><p><img src="/jixiang/assets/image-20240211210900122-a54534e0.png" alt="image-20240211210900122"></p><p>动态渲染轮播图数据，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211214158499-8eeafb9b.png" alt="image-20240211214158499"></p><p>修改样式，调整轮播图的宽高，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211215141987-8d60576f.png" alt="image-20240211215141987"></p><p>我们不想使用vant组件库自带的指示器，而是下面这种，效果如下：</p><p><img src="/jixiang/assets/image-20240211215553604-5dc90446.png" alt="image-20240211215553604"></p><p>自定义指示器，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240211220936679-db849cc6.png" alt="image-20240211220936679"></p><p>我们需要先对数据进行处理，原数据如下：</p><p><img src="/jixiang/assets/image-20240212075721410-d5ef23dd.png" alt="image-20240212075721410"></p><p>处理后的数据格式，如下：</p><p><img src="/jixiang/assets/轮播图的数据转换-0e64d145.png" alt="轮播图的数据转换"></p><p>整理数据后，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212140518305-3b994dd3.png" alt="image-20240212140518305"></p><p>先展示标题，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212153500323-d7efd0ef.png" alt="image-20240212153500323"></p><p>但是我们并不想要【】：，因此我们需要封装一个处理数据的方法。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212154540025-e6a0c91d.png" alt="image-20240212154540025"></p><p>在展示对应的类型房间打的照片，我们需要让其正确显示。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212172234469-a423c138.png" alt="image-20240212172234469"></p><p>对应样式，代码如下：</p><p><img src="/jixiang/assets/image-20240212172427413-6798bf54.png" alt="image-20240212172427413"></p><p>只有房间对应类别的图片被选中时，才会展示对应的数字。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212172903773-dafcfe54.png" alt="image-20240212172903773"></p><p>定义一个获取当前房间类别的索引。传入当前item项，进行一个对比。如果同一个对象，再进行索引加1。就可以正确展示该图片是在该房间类型的第几张图片，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212175038615-3aea4305.png" alt="image-20240212175038615"></p><h4 id="d-房屋信息" tabindex="-1"><a class="header-anchor" href="#d-房屋信息" aria-hidden="true">#</a> D）房屋信息</h4><p>开始搭建信息区域，预期效果如下：</p><p><img src="/jixiang/assets/image-20240212214248214-35e38d72.png" alt="image-20240212214248214"></p><p>为了让detail/cpns文件夹下创建的组件，能像页面结构一样按顺序排列。因此我们对文件名进行修改。操作和效果如下：</p><p><img src="/jixiang/assets/image-20240212215018556-6adc07c6.png" alt="image-20240212215018556"></p><p>创建detail-infos组件，并在detail组件中引入。代码如下：</p><p><img src="/jixiang/assets/image-20240212224248353-50efe4f2.png" alt="image-20240212224248353"></p><p>搭建基本结构，先不引入样式。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212224405425-2fe49072.png" alt="image-20240212224405425"></p><p>引入样式，并添加对应的类名。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240212232933886-21895134.png" alt="image-20240212232933886"></p><h4 id="e-房屋设施" tabindex="-1"><a class="header-anchor" href="#e-房屋设施" aria-hidden="true">#</a> E）房屋设施</h4><p>搭建房间设施部分。预期效果如下：</p><p><img src="/jixiang/assets/image-20240213080934278-d262fa12.png" alt="image-20240213080934278"></p><p>思路：可以看到房间设施模块和房东介绍模块，结构非常类似。顶部和底部结构都一样，因此我们可以将其抽离到一个组件中。中间结构不一样，我们可以通过插槽进行传入。</p><p>因为该结构会在多个页面中使用，因此在components文件夹下，创建detail-section组件。代码如下：</p><p><img src="/jixiang/assets/image-20240213082925733-3cfbd446.png" alt="image-20240213082925733"></p><p>在detail组件中引入，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213094517697-4cadf2ac.png" alt="image-20240213094517697"></p><p>因为使用该组件，标题和底部要展示的文字可能并不相同。因此在detail-section中接收自定义属性，以此来动态显示。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213095800691-dd2f3ec0.png" alt="image-20240213095800691"></p><p>效果如下：</p><p><img src="/jixiang/assets/image-20240213095820250-6224864e.png" alt="image-20240213095820250"></p><p>将该结构抽取到单独的组件中，detail/cpns/detail-facility.vue中，将要抽取的结构。代码如下：</p><p><img src="/jixiang/assets/image-20240213100124664-645b6822.png" alt="image-20240213100124664"></p><p>创建detail-facility.vue，并在detail.vue组件中引入。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213100630161-910cd900.png" alt="image-20240213100630161"></p><p>效果如下：</p><p><img src="/jixiang/assets/image-20240213100654327-c656e959.png" alt="image-20240213100654327"></p><p>预期结果，如下：</p><p><img src="/jixiang/assets/image-20240213174058361-01798d28.png" alt="image-20240213174058361"></p><p>服务器会返回很多的数据，但是展示那些取决于facilitySort。数据如下：</p><p><img src="/jixiang/assets/image-20240213174215093-9dc4c8f4.png" alt="image-20240213174215093"></p><p><img src="/jixiang/assets/image-20240213174345627-2cc89e16.png" alt="image-20240213174345627"></p><p>向detail-facility组件中传递数据，代码如下：</p><p><img src="/jixiang/assets/image-20240213181343798-964225b4.png" alt="image-20240213181343798"></p><p>搭建组件模板，并引入样式。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213182258257-44a2cc59.png" alt="image-20240213182258257"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240213182329037-7011761b.png" alt="image-20240213182329037"></p><p>在common.css中引入图标样式，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213182532040-78de2435.png" alt="image-20240213182532040"></p><p>为了让房屋设施模块和上面的结构有个分隔，我们可以给detail-section加一个上外边框。这样每一个detail-section之间都会有类似分隔的效果，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213183016006-d468837c.png" alt="image-20240213183016006"></p><h4 id="f-房东介绍" tabindex="-1"><a class="header-anchor" href="#f-房东介绍" aria-hidden="true">#</a> F）房东介绍</h4><p>预期效果，如下：</p><p><img src="/jixiang/assets/image-20240213190243934-479d3451.png" alt="image-20240213190243934"></p><p>在views/detail/cpns文件夹下，创建detail_04-landlord.vue组件。接收自定义属性、搭建结构和样式。代码如下：</p><p><img src="/jixiang/assets/image-20240213194613674-440ba849.png" alt="image-20240213194613674"></p><p>在detail.vue组件中引入，并传入landlord属性值。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213195426970-06ec163e.png" alt="image-20240213195426970"></p><h4 id="g-房客点评" tabindex="-1"><a class="header-anchor" href="#g-房客点评" aria-hidden="true">#</a> G）房客点评</h4><p>预期效果如下：</p><p><img src="/jixiang/assets/image-20240213211917828-cf073486.png" alt="image-20240213211917828"></p><p>在detail/cpns文件夹下创建detail_05-comment.vue组件，引入detail-section组件，并向插槽中传入html结构，并引入样式，代码如下：</p><p><img src="/jixiang/assets/image-20240213214226147-08041c44.png" alt="image-20240213214226147"></p><p>在detail-comment组件中接收传递过来的数据，代码如下：</p><p><img src="/jixiang/assets/image-20240213215525213-b8be17e9.png" alt="image-20240213215525213"></p><p>在detail.vue中，引入detail-comment组件，使用之。并传递自定义属性，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213215925524-df13f055.png" alt="image-20240213215925524"></p><p>修改评论条数相关代码，动态显示评论条数。代码如下：</p><p><img src="/jixiang/assets/image-20240213220329021-631151dd.png" alt="image-20240213220329021"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240213220418335-0064be83.png" alt="image-20240213220418335"></p><h4 id="h-预定须知模块" tabindex="-1"><a class="header-anchor" href="#h-预定须知模块" aria-hidden="true">#</a> H）预定须知模块</h4><p>预期效果如下：</p><p><img src="/jixiang/assets/image-20240213220641555-5733d7cc.png" alt="image-20240213220641555"></p><p>在views/detail/cpns文件夹下，创建detail-notice.vue组件。并在其中引入detail-section.vue组件。</p><p><img src="/jixiang/assets/image-20240213221033806-8a836f1a.png" alt="image-20240213221033806"></p><p>在detail.vue组件中引入detail-notice组件，并使用之。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213221327793-ef8d51d9.png" alt="image-20240213221327793"></p><p>但是可以看出预定须知模块，不需要底部的footer结构。因此我们需要修改detail-section组件中的代码。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240213222159841-720e693c.png" alt="image-20240213222159841"></p><p>在detail-notice.vue组件中，向detail-section组件的插槽中传递html结构，引入相关样式。代码如下：</p><p><img src="/jixiang/assets/image-20240213222704808-b7ab7a65.png" alt="image-20240213222704808"></p><p>在detail-notice组件中定义接受自定义属性的props，然后在detail组件中，向detail-notice组件传递自定义属性。代码如下：</p><p><img src="/jixiang/assets/image-20240214080328700-04451c6f.png" alt="image-20240214080328700"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240214080439608-46372ce1.png" alt="image-20240214080439608"></p><h4 id="i-位置周边" tabindex="-1"><a class="header-anchor" href="#i-位置周边" aria-hidden="true">#</a> I）位置周边</h4><p>预期效果，如下：</p><p><img src="/jixiang/assets/image-20240214084009340-c3100816.png" alt="image-20240214084009340"></p><p>在detail/cpns文件夹下，创建detail-map.vue组件。在detail-map组件中引入detail-section组件，</p><p>并传递数据。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214084245791-ada13d7d.png" alt="image-20240214084245791"></p><p>在detail组件中，使用detail-map组件。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214084420479-d9a61f6a.png" alt="image-20240214084420479"></p><p>使用百度地图：</p><ul><li>百度地图登录</li><li>开发者认证</li><li>控制台 —&gt; 应用管理 —&gt; 创建应用</li></ul><p><img src="/jixiang/assets/image-20240214092308810-bb1d7bb4.png" alt="image-20240214092308810"></p><p><img src="/jixiang/assets/image-20240214092325505-337eb041.png" alt="image-20240214092325505"></p><p>点击提交后，如下：</p><p><img src="/jixiang/assets/image-20240214092417700-baae6e32.png" alt="image-20240214092417700"></p><p>打开：开发者文档 -&gt; JavaScript API -&gt; 开发指南 —&gt; Hello World。引用百度地图API文件，如下：</p><p><img src="/jixiang/assets/image-20240214094951006-02380da2.png" alt="image-20240214094951006"></p><p>添加到index.html中，并替换自己的App Key。代码如下：</p><p><img src="/jixiang/assets/image-20240214095722501-6a8e0734.png" alt="image-20240214095722501"></p><p>添加地图相关代码，初步展示地图效果。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214101006577-a6043ee5.png" alt="image-20240214101006577"></p><p>我们应该动态传递经纬度，因此在detail-map组件内接收自定义属性，并传递给对应API。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214102921659-00f96062.png" alt="image-20240214102921659"></p><p>在detail.vue组件中，向detail-map组件传递自定义属性。代码如下：</p><p><img src="/jixiang/assets/image-20240214103026773-27f496d9.png" alt="image-20240214103026773"></p><p>我们还需要展示类似于大头针指向具体位置的效果。</p><p><img src="/jixiang/assets/image-20240214103439678-ad49ca72.png" alt="image-20240214103439678"></p><p>在detail-map组件中，添加代码。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214103614600-c95cc8d5.png" alt="image-20240214103614600"></p><p>到此地图模块开发完毕。</p><h4 id="j-价格说明" tabindex="-1"><a class="header-anchor" href="#j-价格说明" aria-hidden="true">#</a> J）价格说明</h4><p>预期效果如下：</p><p><img src="/jixiang/assets/image-20240214204102195-6dc6ede1.png" alt="image-20240214204102195"></p><p>先展示需要传递的数据，如下：</p><p><img src="/jixiang/assets/image-20240214204802268-16e82517.png" alt="image-20240214204802268"></p><p>在detail/cpns文件夹下，直接引入detail-intro.vue组件。并在detail.vue组件中引入和使用，同时向detail-intro组件传递自定义属性。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214205002478-c8647816.png" alt="image-20240214205002478"></p><h4 id="k-底部模块" tabindex="-1"><a class="header-anchor" href="#k-底部模块" aria-hidden="true">#</a> K）底部模块</h4><p>预期效果，如下：</p><p><img src="/jixiang/assets/image-20240214205144934-53dcefce.png" alt="image-20240214205144934"></p><p>在detail.vue组件中，引入对应的结构和样式。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214210008461-96d5f5cc.png" alt="image-20240214210008461"></p><p>并粘贴进来一个图片，如下：</p><p><img src="/jixiang/assets/image-20240214210138860-a5f086be.png" alt="image-20240214210138860"></p><h4 id="l-tabcontrol模块" tabindex="-1"><a class="header-anchor" href="#l-tabcontrol模块" aria-hidden="true">#</a> L）tabControl模块</h4><p>在房屋详情页面中，滚动到一定位置，会弹出tabControl。并且点击不同的tab项，会定位到不同的位置。预期效果如下：</p><p><img src="/jixiang/assets/image-20240214210544275-a8c401dd.png" alt="image-20240214210544275"></p><p>步骤：</p><ul><li>开发出来一个tabControl</li><li>监听滚动</li><li>滚到一定位置，显示出来</li><li>监听到tabControl点击，点击之后滚动到正确的位置</li></ul><p>在src/components文件夹下，直接引入之前封装好的tab-control组件，</p><p><img src="/jixiang/assets/image-20240214213337817-ac13af51.png" alt="image-20240214213337817"></p><p>在detail组件中引入，并测试之。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214213433439-d2e88c01.png" alt="image-20240214213433439"></p><p>tabControl需要绝对定位，样式如下：</p><p><img src="/jixiang/assets/image-20240214225442429-db720f78.png" alt="image-20240214225442429"></p><p>tabControl默认情况下，应该隐藏起来，但是tabControl显示还是隐藏和滚动距离有关系，因此我们需要定义一个变量。代码如下：</p><p><img src="/jixiang/assets/image-20240214230933354-f7d453d3.png" alt="image-20240214230933354"></p><p>所以改在useScroll.sj中的代码，如下：</p><p><img src="/jixiang/assets/image-20240214231533809-9de58b5d.png" alt="image-20240214231533809"></p><p>在favor组件中，测试我们改造后的代码。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240214231737390-6dae7f6a.png" alt="image-20240214231737390"></p><p>我们还需要进一步改造代码，如下：</p><p><img src="/jixiang/assets/image-20240214232048113-507f18e5.png" alt="image-20240214232048113"></p><p>进行条件判断，代码如下：</p><p><img src="/jixiang/assets/image-20240214233339322-54af0293.png" alt="image-20240214233339322"></p><p>在detail.vue组件中，使用useScroll.js。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215080948647-dffe9a8e.png" alt="image-20240215080948647"></p><p>开始实现点击不同的tabs，让页面滚动到不同的位置。测试之，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215084801163-4e9381cd.png" alt="image-20240215084801163"></p><p>但是我们需要点击tabs，让页面准确地滚动到对应的位置。所以我们先实现不管点击哪个tabs，都让页面滚动到房东区域。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215090423449-3ef712e5.png" alt="image-20240215090423449"></p><p>但是我们如果给每一个组件上绑定ref，都需要定义一个变量，这样就会定义出很多变量。因此我们采取动态绑定ref，给ref绑定一个函数。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215094051182-353a735a.png" alt="image-20240215094051182"></p><p>定义一个数组，将获取到的所有组件根元素都放入到该数组中。并且出现了一个bug，那就是随着滚动，ref动态绑定打的函数会被多次执行。如下：</p><p><img src="/jixiang/assets/image-20240215094911341-a1cacefa.png" alt="image-20240215094911341"></p><p>解决方法，给div.main添加v-memo。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215095123014-1839561f.png" alt="image-20240215095123014"></p><p>到此，修改代码，我们就可以动态的控制滚动的距离。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215095455045-df2d61c1.png" alt="image-20240215095455045"></p><p>当我们点击第一个tabs，会多露出一些距离。效果如下：</p><p><img src="/jixiang/assets/image-20240215100349126-ccf0ca98.png" alt="image-20240215100349126"></p><p>因此我们需要进一步修改我们的代码，如下：</p><p><img src="/jixiang/assets/image-20240215103105618-c336f888.png" alt="image-20240215103105618"></p><p>我们希望tab选项的名称可以动态渲染，并且我们希望tabs选项名称和对应的元素，可以存在关系。例如：{ &#39;描述&#39;：el，‘设施’：el，‘房东’：el，.... }。因此我们给每一个展示tabs的组件绑定一个name属性，代码如下：</p><p><img src="/jixiang/assets/image-20240215111411539-1456d03d.png" alt="image-20240215111411539"></p><p>将sectionEls从数组改为响应式对象，并且向tab-control组件的titles属性传递过去一个计算属性。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215113455318-9dcfe991.png" alt="image-20240215113455318"></p><p>因为sectionEls不再是一个数组，而是一个ref对象。因此我们先根据索引获取到sectioEls的key，再用key获取到值(组件根元素)。修改之前的代码，代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215114722797-ca27d106.png" alt="image-20240215114722797"></p><p>到此，详情页面顶部tab-control开发完毕。</p><p>修改bug，当我们在详情页点击返回时，会报错。效果如下：</p><p><img src="/jixiang/assets/image-20240215181541945-9c8759f0.png" alt="image-20240215181541945"></p><p>报错原因：是因为在组件卸载时，getSectionRef还会执行，此时拿到的value就是null，然后再null.$el，就会报错。因此我们需要判断value是否有值。代码和效果如下：</p><p><img src="/jixiang/assets/image-20240215181845598-19ee801a.png" alt="image-20240215181845598"></p><p>还有一个问题，当我们手动滚动页面。顶部tab-control并不能正确显示。如下：</p><p><img src="/jixiang/assets/image-20240215182656037-57de2378.png" alt="image-20240215182656037"></p><p>思路：页面滚动到一定位置时，显示正确的tabControl的索引(标题)</p><ol><li>监听滚动的位置。</li><li>理由scrollTop匹配正确的位置。</li></ol><p><img src="/jixiang/assets/详情页滚动的tabControl匹配-6430e7ca.png" alt="详情页滚动的tabControl匹配"></p><p>代码实现，监听页面滚动的距离。拿到对应索引。代码如下：</p><p><img src="/jixiang/assets/image-20240215201000121-4bb5c51b.png" alt="image-20240215201000121"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240215200941059-1f87ce6a.png" alt="image-20240215200941059"></p><p>为了避免tab-control盖住模块的title，因此我们可以给scrollTop加上tab-control的高度(44)。如下：</p><p><img src="/jixiang/assets/image-20240215202944131-6b9d1302.png" alt="image-20240215202944131"></p><p>我们的最终目的是将索引设置给tab-control。调用子组件中的方法，在detail中调用并传递索引。代码如下:</p><p><img src="/jixiang/assets/image-20240215205348096-c611ec57.png" alt="image-20240215205348096"></p><p>浏览器测试之，如下：</p><p><img src="/jixiang/assets/image-20240215205512108-d2c70715.png" alt="image-20240215205512108"></p><h4 id="m-算法" tabindex="-1"><a class="header-anchor" href="#m-算法" aria-hidden="true">#</a> M）算法</h4></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><!----></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/jixiang/blogs/base/12.html#一-项目基本配置" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="一，项目基本配置"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->一，项目基本配置<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_1-修改项目图标" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1. 修改项目图标"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1. 修改项目图标<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_2-修改项目标题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2. 修改项目标题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2. 修改项目标题<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_2-项目目录结构划分" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2. 项目目录结构划分"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2. 项目目录结构划分<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_3-重置样式和初始化" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3. 重置样式和初始化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3. 重置样式和初始化<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_4-路由位置" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4. 路由位置"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4. 路由位置<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_3-配置状态管理" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3. 配置状态管理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3. 配置状态管理<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/jixiang/blogs/base/12.html#二-首页面开发" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="二，首页面开发"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->二，首页面开发<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_1-tabbar" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1. tabbar"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1. tabbar<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_2-使用vant组件库" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2. 使用vant组件库"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2. 使用vant组件库<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_3-使用组件库的样式方案" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3. 使用组件库的样式方案"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3. 使用组件库的样式方案<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_4-城市选择页面" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4. 城市选择页面"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4. 城市选择页面<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_5-网络请求" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="5. 网络请求"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->5. 网络请求<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_6-日期选择" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="6. 日期选择"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->6. 日期选择<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_7-热门建议区域" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="7. 热门建议区域"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->7. 热门建议区域<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_8-搜索按钮" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="8. 搜索按钮"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->8. 搜索按钮<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_9-分类模块" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="9. 分类模块"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->9. 分类模块<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_10-列表功能" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="10. 列表功能"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->10. 列表功能<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_11-顶部搜索条" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="11. 顶部搜索条"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->11. 顶部搜索条<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_12-网络请求loading效果" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="12. 网络请求loading效果"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->12. 网络请求loading效果<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/jixiang/blogs/base/12.html#_13-详情页" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="13. 详情页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->13. 详情页<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/jixiang/assets/app-382cdfb3.js" defer></script>
  </body>
</html>
